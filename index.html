<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>It's Always DNS - Troubleshooting Simulator</title>
    <style>
        body {
            font-family: 'Courier New', monospace;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #000000;
            color: #00ff00;
            overflow: hidden;
        }
        .container {
            text-align: center;
            padding: 40px;
            background-color: rgba(10, 10, 10, 0.8);
            border-radius: 15px;
            box-shadow: 0 0 30px rgba(0,255,0,0.3);
            max-width: 80%;
            position: relative;
            z-index: 1;
        }
        h1 {
            margin-bottom: 20px;
            font-size: 2.8em;
            text-shadow: 0 0 10px #00ff00;
        }
        #problemDisplay {
            font-size: 1.8em;
            margin-bottom: 30px;
            min-height: 2.5em;
            text-shadow: 0 0 5px #00ff00;
        }
        button {
            font-size: 1.3em;
            padding: 15px 30px;
            cursor: pointer;
            background-color: #003300;
            color: #00ff00;
            border: 2px solid #00ff00;
            border-radius: 8px;
            font-weight: bold;
            transition: all 0.3s ease;
            text-shadow: 0 0 5px #00ff00;
            box-shadow: 0 0 10px #00ff00;
            margin: 10px;
        }
        button:hover {
            background-color: #00ff00;
            color: #000000;
            box-shadow: 0 0 20px #00ff00;
        }
        #dnsArt {
            font-family: monospace;
            white-space: pre;
            font-size: 0.8em;
            margin-top: 30px;
            opacity: 0.7;
        }
        .matrix-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            opacity: 0.1;
        }
        @keyframes glitch {
            0% { transform: translate(0) }
            20% { transform: translate(-5px, 5px) }
            40% { transform: translate(-5px, -5px) }
            60% { transform: translate(5px, 5px) }
            80% { transform: translate(5px, -5px) }
            100% { transform: translate(0) }
        }
        #progressBar {
            width: 0;
            height: 5px;
            background-color: #00ff00;
            position: absolute;
            bottom: 0;
            left: 0;
            transition: width 0.5s ease;
        }
        #statsDisplay {
            font-size: 1.2em;
            margin-top: 20px;
        }
        #actionButtons {
            display: none;
        }
        #levelDisplay {
            font-size: 1.5em;
            margin-top: 20px;
            font-weight: bold;
        }
        #terminal {
            background-color: #001100;
            border: 1px solid #00ff00;
            padding: 10px;
            margin-top: 20px;
            text-align: left;
            height: 150px;
            overflow-y: auto;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <canvas class="matrix-bg" id="matrixCanvas"></canvas>
    <div class="container">
        <h1 id="mainTitle">DNS Troubleshooting Simulator</h1>
        <div id="levelDisplay">Level 1: DNS Novice</div>
        <div id="problemDisplay">Ready to tackle some DNS issues?</div>
        <button id="startButton" onclick="startSimulation()">Start Simulation</button>
        <div id="actionButtons">
            <button onclick="diagnose()">Diagnose</button>
            <button onclick="attemptFix()">Attempt Fix</button>
            <button onclick="escalate()">Escalate</button>
        </div>
        <div id="terminal"></div>
        <div id="statsDisplay">Problems Solved: 0 | XP: 0</div>
        <div id="progressBar"></div>
    </div>

    <script>
        const problems = [
            "DNS server not responding",
            "NXDOMAIN errors for valid domains",
            "Slow DNS resolution",
            "Intermittent DNS failures",
            "DNS cache poisoning detected",
            "Reverse DNS lookup failing",
            "DNS zone transfer issues",
            "DNSSEC validation errors",
            "DNS amplification attack in progress",
            "Split-horizon DNS misconfiguration"
        ];

        const levels = [
            "DNS Novice",
            "DNS Apprentice",
            "DNS Journeyman",
            "DNS Expert",
            "DNS Master",
            "Legendary DNS Whisperer"
        ];

        let currentProblem = "";
        let problemsSolved = 0;
        let xp = 0;
        let currentLevel = 0;

        function startSimulation() {
            document.getElementById('startButton').style.display = 'none';
            document.getElementById('actionButtons').style.display = 'block';
            newProblem();
        }

        function newProblem() {
            currentProblem = getRandomElement(problems);
            document.getElementById('problemDisplay').textContent = `Current Issue: ${currentProblem}`;
            logToTerminal("New problem detected: " + currentProblem);
        }

        function diagnose() {
            const diagnosisResult = Math.random() < 0.7 ? "Diagnosis successful" : "Diagnosis inconclusive";
            logToTerminal(diagnosisResult + ": " + getRandomElement([
                "Checked DNS server logs",
                "Performed nslookup",
                "Analyzed BIND configuration",
                "Inspected DNS cache",
                "Verified DNS propagation"
            ]));
        }

        function attemptFix() {
            const fixSuccess = Math.random() < 0.5;
            if (fixSuccess) {
                problemsSolved++;
                xp += 10;
                logToTerminal("Fix successful! Issue resolved: " + currentProblem);
                newProblem();
            } else {
                logToTerminal("Fix attempt failed. Perhaps try diagnosing further or escalating.");
            }
            updateStats();
        }

        function escalate() {
            const escalationResult = Math.random() < 0.8 ? "Escalation successful" : "Escalation pending";
            logToTerminal(escalationResult + ": " + getRandomElement([
                "Contacted senior DNS administrator",
                "Opened ticket with DNS provider",
                "Escalated to network operations center",
                "Consulted DNS working group",
                "Initiated emergency response protocol"
            ]));
            xp += 5;
            updateStats();
        }

        function updateStats() {
            document.getElementById('statsDisplay').textContent = `Problems Solved: ${problemsSolved} | XP: ${xp}`;
            const newLevel = Math.min(Math.floor(xp / 50), levels.length - 1);
            if (newLevel > currentLevel) {
                currentLevel = newLevel;
                document.getElementById('levelDisplay').textContent = `Level ${currentLevel + 1}: ${levels[currentLevel]}`;
                logToTerminal(`Congratulations! You've been promoted to ${levels[currentLevel]}!`);
            }
            document.getElementById('progressBar').style.width = `${(xp % 50) * 2}%`;
        }

        function logToTerminal(message) {
            const terminal = document.getElementById('terminal');
            terminal.innerHTML += `> ${message}<br>`;
            terminal.scrollTop = terminal.scrollHeight;
        }

        function getRandomElement(array) {
            return array[Math.floor(Math.random() * array.length)];
        }

        // Matrix rain effect
        const canvas = document.getElementById('matrixCanvas');
        const ctx = canvas.getContext('2d');

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
        const fontSize = 10;
        const columns = canvas.width / fontSize;

        const drops = [];
        for (let i = 0; i < columns; i++) {
            drops[i] = 1;
        }

        function draw() {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            ctx.fillStyle = '#00ff00';
            ctx.font = fontSize + 'px monospace';

            for (let i = 0; i < drops.length; i++) {
                const text = chars.charAt(Math.floor(Math.random() * chars.length));
                ctx.fillText(text, i * fontSize, drops[i] * fontSize);

                if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
                    drops[i] = 0;
                }
                drops[i]++;
            }
        }

        setInterval(draw, 33);
    </script>
</body>
</html>
